# PostgreSQL Client Authentication Configuration File
# pg_hba.conf example for Bubble Tea Database
# 
# IMPORTANT: Add these lines to your actual pg_hba.conf file
# Location: C:\Program Files\PostgreSQL\17\data\pg_hba.conf
#
# After editing, restart PostgreSQL service

# ======================================
# TYPE  DATABASE        USER            ADDRESS                 METHOD
# ======================================

# Local connections (no encryption needed)
# Allow local connections with password
local   all             all                                     scram-sha-256

# ======================================
# IPv4 local connections
# ======================================

# Admin access (from localhost only)
host    bibabobabebe    bubble_tea_admin    127.0.0.1/32       scram-sha-256
host    bibabobabebe    bubble_tea_admin    ::1/128            scram-sha-256

# Application access (Flask app)
host    bibabobabebe    bubble_tea_app      127.0.0.1/32       scram-sha-256
host    bibabobabebe    bubble_tea_app      ::1/128            scram-sha-256

# Read-only access (for analytics tools)
host    bibabobabebe    bubble_tea_readonly 127.0.0.1/32       scram-sha-256
host    bibabobabebe    bubble_tea_readonly ::1/128            scram-sha-256

# Backup user (for pg_dump)
host    bibabobabebe    bubble_tea_backup   127.0.0.1/32       scram-sha-256

# Replication connections
host    replication     bubble_tea_backup   127.0.0.1/32       scram-sha-256

# ======================================
# Network connections (if needed)
# ======================================

# Allow connections from local network (adjust IP range)
# host    bibabobabebe    bubble_tea_app      192.168.1.0/24     scram-sha-256

# ======================================
# Default postgres superuser
# ======================================
host    all             postgres            127.0.0.1/32       scram-sha-256
host    all             postgres            ::1/128            scram-sha-256

# ======================================
# Reject all other connections
# ======================================
host    all             all                 0.0.0.0/0          reject
host    all             all                 ::/0               reject

# ======================================
# NOTES:
# ======================================
# - scram-sha-256 is the most secure password method
# - md5 is legacy, avoid if possible
# - trust method should NEVER be used in production
# - Adjust IP addresses based on your network
# - Always restart PostgreSQL after changes


